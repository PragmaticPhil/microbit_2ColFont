"""
Provides a "scroll" method that uses the WHALEYSANS_INTEGERS and PHILSANS_TEXT
alpha font.
"""
from microbit import *


FONT = {
    '0': b'\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09',
    '1': b'\x00\x09\x00\x09\x00\x09\x00\x09\x00\x09',
    '2': b'\x09\x09\x00\x09\x09\x09\x09\x00\x09\x09',
    '3': b'\x09\x09\x00\x09\x09\x09\x00\x09\x09\x09',
    '4': b'\x09\x00\x09\x00\x09\x09\x00\x09\x00\x09',
    '5': b'\x09\x09\x09\x00\x09\x09\x00\x09\x09\x09',
    '6': b'\x09\x09\x09\x00\x09\x09\x09\x09\x09\x09',
    '7': b'\x09\x09\x00\x09\x00\x09\x00\x09\x00\x09',
    '8': b'\x09\x09\x09\x09\x00\x00\x09\x09\x09\x09',
    '9': b'\x09\x09\x09\x09\x09\x09\x00\x09\x09\x09',
    'a': b'\x00\x00\x00\x00\x09\x09\x09\x09\x00\x09',
    'b': b'\x09\x00\x09\x00\x09\x00\x09\x09\x09\x09',
    'c': b'\x00\x00\x00\x00\x09\x09\x09\x00\x09\x09',
    'd': b'\x00\x09\x00\x09\x09\x09\x09\x09\x09\x09',
    'e': b'\x09\x09\x09\x00\x09\x09\x09\x00\x09\x09',
    'f': b'\x09\x09\x09\x00\x09\x09\x09\x00\x09\x00',
    'g': b'\x09\x09\x09\x09\x00\x09\x00\x09\x09\x09',
    'h': b'\x09\x00\x09\x00\x09\x09\x09\x09\x09\x09',
    'i': b'\x09\x00\x00\x00\x09\x00\x09\x00\x09\x00',
    'j': b'\x00\x09\x00\x00\x00\x09\x04\x09\x09\x09',
    'k': b'\x09\x02\x09\x07\x09\x00\x09\x07\x09\x02',
    'l': b'\x09\x00\x09\x00\x09\x00\x09\x00\x09\x06',
    'm': b'\x09\x00\x00\x09\x09\x00\x00\x09\x09\x00',
    'n': b'\x00\x00\x00\x00\x09\x09\x09\x09\x09\x09',
    'o': b'\x00\x00\x09\x09\x09\x09\x09\x09\x00\x00',
    'p': b'\x09\x09\x09\x09\x09\x04\x09\x00\x09\x00',
    'q': b'\x00\x00\x09\x09\x09\x09\x04\x09\x00\x09',
    'r': b'\x00\x00\x00\x00\x09\x09\x09\x00\x09\x00',
    's': b'\x09\x09\x09\x00\x09\x09\x00\x09\x09\x09',
    't': b'\x00\x00\x09\x00\x09\x09\x09\x00\x09\x09',
    'u': b'\x00\x00\x00\x00\x09\x09\x09\x09\x09\x09',
    'v': b'\x00\x00\x00\x00\x09\x09\x09\x09\x04\x04',
    'w': b'\x00\x09\x09\x00\x00\x09\x09\x00\x00\x09',
    'x': b'\x09\x09\x04\x04\x09\x09\x04\x04\x09\x09',
    'y': b'\x00\x00\x09\x09\x09\x09\x00\x09\x09\x09',
    'z': b'\x00\x00\x09\x09\x00\x09\x09\x00\x09\x09',
    ' ': b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
}

def scroll(message, speed=150):
    width = (3 * len(message)) + 10
    img = Image(width, 5)
    column = 4
    for char in message.lower():
        character = FONT.get(char, False)
        if character:
            for i in range(5):
                pos = i * 2
                img.set_pixel(column, i, character[pos])
                img.set_pixel(column + 1, i, character[pos + 1])
        column += 3
    for i in range(width):
        display.show(img.crop(i, 0, 5, 5))
        sleep(speed)

scroll("Hello world")
